Version 4
SHEET 1 1808 916
WIRE -512 -80 -560 -80
WIRE 304 -80 -512 -80
WIRE 432 -80 304 -80
WIRE 688 -80 496 -80
WIRE 800 -80 688 -80
WIRE 944 -80 864 -80
WIRE 992 -80 944 -80
WIRE 1104 -80 992 -80
WIRE 1104 -48 1104 -80
WIRE 304 -32 304 -80
WIRE 688 0 688 -80
WIRE 80 48 32 48
WIRE 208 48 160 48
WIRE 256 48 208 48
WIRE 1104 64 1104 32
WIRE -560 96 -560 -80
WIRE 32 112 32 48
WIRE 32 112 -16 112
WIRE 944 112 944 -80
WIRE -192 128 -368 128
WIRE 304 144 304 64
WIRE 304 144 -16 144
WIRE 400 144 304 144
WIRE 496 144 400 144
WIRE 624 144 560 144
WIRE 688 144 688 80
WIRE 688 144 624 144
WIRE -192 160 -240 160
WIRE 32 176 -16 176
WIRE 304 192 304 144
WIRE -240 208 -240 160
WIRE -192 208 -240 208
WIRE 0 208 -16 208
WIRE 1104 224 1104 144
WIRE 32 272 32 176
WIRE 80 272 32 272
WIRE 208 272 160 272
WIRE 256 272 208 272
WIRE 1232 272 1152 272
WIRE 0 336 0 208
WIRE 304 336 304 288
WIRE 304 336 0 336
WIRE -560 400 -560 176
WIRE -240 400 -240 208
WIRE -240 400 -560 400
WIRE 304 400 304 336
WIRE 304 400 -240 400
WIRE 944 400 944 176
WIRE 944 400 304 400
WIRE 1104 400 1104 320
WIRE 1104 400 944 400
WIRE -560 448 -560 400
FLAG -560 448 0
FLAG -512 -80 in
FLAG 992 -80 out
FLAG 400 144 sc+
FLAG 624 144 sc-
FLAG 208 272 g2
FLAG 208 48 g1
SYMBOL voltage -560 80 R0
WINDOW 0 38 38 Left 2
WINDOW 3 44 65 Left 2
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL cap 560 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 3.3µ
SYMBOL cap 928 112 R0
SYMATTR InstName C2
SYMATTR Value 90µ
SYMBOL nmos 256 -32 R0
SYMATTR InstName M1
SYMATTR Value IPD036N04L
SYMBOL nmos 256 192 R0
SYMATTR InstName M2
SYMATTR Value IPD036N04L
SYMBOL MyDriverHB -80 160 R0
WINDOW 0 -89 -79 Bottom 2
WINDOW 38 18 -79 Bottom 2
WINDOW 123 -48 108 Bottom 2
WINDOW 3 -48 136 Bottom 2
SYMATTR InstName U1
SYMATTR Value2 Tau=300n
SYMBOL res 176 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 176 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL Control\\idiode 800 -64 R270
WINDOW 3 -42 34 VTop 2
WINDOW 0 32 32 VTop 2
SYMATTR Value Vfwd=0.5 Ron=0.1
SYMATTR InstName U4
SYMBOL Control\\idiode 432 -64 R270
WINDOW 3 -38 44 VTop 2
WINDOW 0 32 32 VTop 2
SYMATTR Value Vfwd=0.5 Ron=0.1
SYMATTR InstName U5
SYMBOL res 1088 -64 R0
SYMATTR InstName R1
SYMATTR Value 1.8
SYMBOL voltage 1104 48 R0
SYMATTR InstName V2
SYMATTR Value 41.8
SYMBOL Control\\clk -400 128 M180
WINDOW 3 -2 -66 Bottom 2
WINDOW 123 -2 -94 Bottom 2
WINDOW 39 -2 -122 Bottom 2
SYMATTR Value2 SR=1e8 ton={1/2/freq}
SYMATTR SpiceLine f={freq}
SYMATTR InstName U2
SYMBOL ind 672 -16 R0
SYMATTR InstName L1
SYMATTR Value {Lstray}
SYMBOL Control\\switch 1104 272 M0
WINDOW 123 -201 88 Left 2
WINDOW 3 -281 116 Left 2
SYMATTR InstName U3
SYMBOL Control\\clk 1264 272 M0
WINDOW 3 -161 -18 Bottom 2
WINDOW 123 -242 22 Bottom 2
WINDOW 39 -122 62 Bottom 2
SYMATTR Value2 SR=1e8 ton={d_dim*1/freq_d}
SYMATTR SpiceLine f={freq_d}
SYMATTR InstName U6
TEXT -104 -168 Left 2 !.tran 0 10m 9m 0.1u uic
TEXT -104 -128 Left 2 !.options reltol 10m
TEXT -432 -168 Left 2 !.param freq 100k
TEXT -432 -128 Left 2 !.param Lstray 10n
TEXT 232 -168 Left 2 !.param freq_d 25k\n.param d_dim 0.55
